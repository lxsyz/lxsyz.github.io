<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Amanda</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Amanda">
<meta property="og:url" content="http://lxsyz.github.io/index.html">
<meta property="og:site_name" content="Amanda">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Amanda">
  
    <link rel="alternative" href="/atom.xml" title="Amanda" type="application/atom+xml">
  
  
    
      <link rel="icon" href="/favicon.png">
    
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				
 					<img lazy-src="/img/xiaomai.png" class="js-avatar">
 				
 				
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">syz</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>Über</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/lxsyz" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/二叉树/" style="font-size: 10px;">二叉树</a> <a href="/tags/数学/" style="font-size: 10px;">数学</a> <a href="/tags/栈/" style="font-size: 10px;">栈</a> <a href="/tags/深度学习/" style="font-size: 20px;">深度学习</a> <a href="/tags/深度搜索/" style="font-size: 10px;">深度搜索</a> <a href="/tags/递归/" style="font-size: 10px;">递归</a> <a href="/tags/链表/" style="font-size: 20px;">链表</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/guolin_blog">郭霖的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/lmj623565791">鸿洋的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/xiaanming">夏安明的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/singwhatiwanna">任玉刚的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jcodecraeer.com/plus/list.php?tid=16">泡在网上的日子</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/syz960519">我的csdn</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">树叶的一生，只是为了归根吗？</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">syz</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img lazy-src="null/img/xiaomai.png" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">syz</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/lxsyz" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-机器学习相关算法实现" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/07/机器学习相关算法实现/" class="article-date">
  	<time datetime="2017-10-07T06:50:29.000Z" itemprop="datePublished">2017-10-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/07/机器学习相关算法实现/">机器学习相关算法实现</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&emsp;&emsp;忙了很久，却并没有在做自己喜欢的部分，也一直没有时间沉淀一下，现在把最近看过的内容做一下总结和复习吧，主要是李航《统计学习方法》中的内容。</p>
<h2 id="感知器算法"><a href="#感知器算法" class="headerlink" title="感知器算法"></a>感知器算法</h2><h4 id="感知器模型"><a href="#感知器模型" class="headerlink" title="感知器模型"></a>感知器模型</h4><p>&emsp;&emsp;感知机模型输入空间为x$\in$R,输出空间为{-1,1}，可以大致用一个公式概括:<br></p>
<p></p><p align="center">$<br>f(x) = sign(wx+b)<br>$</p><br>&emsp;&emsp;损失函数有多种选择，一种是以误分类点的总数作为标准，但是这样的损失函数不易优化。另一种则是误分类点到超平面的总距离。对于误分类的数据，当wx+b&gt;0时，y=-1,当wx+b&lt;0时，y=1，因此单个点到超平面的距离可以写成：$\frac {-y_i(wx_i+b)} {|w|} $那么整个模型的损失函数就是把每个点的损失累加起来即可。<p></p>
<h4 id="学习算法"><a href="#学习算法" class="headerlink" title="学习算法"></a>学习算法</h4><p>&emsp;&emsp;感知器学习算法是由误分类点驱动的，采用随机梯度下降的方式来不断优化目标函数，随机选取一个误分类点，对参数w,b进行更新：<br></p>
<p></p><p align="center">$<br>w = w+\eta y_ix_i<br>$</p><p></p>
<p></p><p align="center">$<br>b = b + \eta y_i<br>$</p><br>最终感知器的算法可以这样实现：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">train</span><span class="params">(self, features, labels)</span>:</span></div><div class="line">        <span class="comment"># 列加偏置项，初始化权重为0</span></div><div class="line">        self.w = [<span class="number">0.0</span>] * (len(features[<span class="number">0</span>]) + <span class="number">1</span>)</div><div class="line"></div><div class="line">        correct_count = <span class="number">0</span></div><div class="line">        time = <span class="number">0</span></div><div class="line"></div><div class="line">        <span class="keyword">while</span> time &lt; self.max_iteration:</div><div class="line">            index = random.randint(<span class="number">0</span>, len(labels) - <span class="number">1</span>)</div><div class="line">            x = list(features[index])</div><div class="line">            x.append(<span class="number">1.0</span>)</div><div class="line">            <span class="comment"># y = 1 或 -1</span></div><div class="line">            y = <span class="number">2</span> * labels[index] - <span class="number">1</span></div><div class="line">            wx = sum([self.w[j] * x[j] <span class="keyword">for</span> j <span class="keyword">in</span> range(len(self.w))])</div><div class="line"></div><div class="line">            <span class="comment"># 大于0 表示分类正确</span></div><div class="line">            <span class="keyword">if</span> wx * y &gt; <span class="number">0</span>:</div><div class="line">                correct_count += <span class="number">1</span></div><div class="line">                <span class="keyword">if</span> correct_count &gt; self.max_iteration:</div><div class="line">                    <span class="keyword">break</span></div><div class="line">                <span class="keyword">continue</span></div><div class="line">            <span class="comment"># 错误驱动，分类错误则更新权重值</span></div><div class="line">            <span class="comment"># w的梯度，对w求导，由xy给出</span></div><div class="line">            <span class="comment"># x的最后一个值为1，相当于b的梯度由y更新</span></div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(len(self.w)):</div><div class="line">                self.w[i] += self.learning_step * (y * x[i])</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self, features)</span>:</span></div><div class="line">        labels = []</div><div class="line">        <span class="keyword">for</span> feature <span class="keyword">in</span> features:</div><div class="line">            x = list(feature)</div><div class="line">            x.append(<span class="number">1.0</span>)</div><div class="line">            wx = sum([self.w[j] * x[j] <span class="keyword">for</span> j <span class="keyword">in</span> range(len(self.w))])</div><div class="line">            <span class="comment"># 填充1或0</span></div><div class="line">            labels.append(int(wx &gt; <span class="number">0</span>))</div><div class="line">        <span class="keyword">return</span> labels</div></pre></td></tr></table></figure><p></p>
<h2 id="K近邻算法"><a href="#K近邻算法" class="headerlink" title="K近邻算法"></a>K近邻算法</h2><p>&emsp;&emsp;K近邻算法模型主要由三个因素决定：距离度量，K值的选择和分类决策规则。距离度量一般采用欧氏距离或者曼哈顿距离。而对于K值的选择，如果K值选择的过小，就相当于在较小的邻域内进行预测，那么预测结果对近邻的点非常敏感，同时如果近邻点恰巧是噪点就会出现错误。所以K值选的小，会让模型变得复杂，容易过拟合。而K值选的较大，则与输入实例较远的点也会发生作用，而这些点可能并不相关，模型会变得简单。通常采用交叉验证法选取最优K值。分类决策规则通常是多数表决<br><br>&emsp;&emsp;实现K近邻算法，最简单的方式是线性扫描，当训练集很大时，计算量也会特别大，为了提高K近邻搜索的效率，有很多的数据结构可以用来优化，例如kd树。kd树实现起来较为复杂，后续再补充，这里介绍简单的线性扫描的方法：<br><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self, test_set, train_set, train_labels)</span>:</span></div><div class="line">        predict = []</div><div class="line">        num = <span class="number">0</span></div><div class="line"></div><div class="line"></div><div class="line">        knn_list = []</div><div class="line">        max_index = <span class="number">-1</span></div><div class="line">        max_dist = <span class="number">0</span></div><div class="line">        <span class="comment"># 计算训练集中到单个测试样本距离最近的k个数据</span></div><div class="line">        <span class="keyword">for</span> test <span class="keyword">in</span> test_set:</div><div class="line">            print(num)</div><div class="line">            num = num + <span class="number">1</span>   </div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(self.k):</div><div class="line">                train_vec = train_set[i]</div><div class="line">                label = train_labels[i]</div><div class="line"></div><div class="line">                dist = self.get_dist(train_vec, test)</div><div class="line">                knn_list.append((dist, label))</div><div class="line"></div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(self.k, len(train_labels)):</div><div class="line">                label = train_labels[i]</div><div class="line">                train_vec = train_set[i]</div><div class="line"></div><div class="line">                dist = self.get_dist(train_vec, test)</div><div class="line"></div><div class="line">                <span class="keyword">if</span> max_index &lt; <span class="number">0</span>:</div><div class="line">                    <span class="keyword">for</span> j <span class="keyword">in</span> range(self.k):</div><div class="line">                        <span class="keyword">if</span> max_dist &lt; knn_list[j][<span class="number">0</span>]:</div><div class="line">                            max_index = j</div><div class="line">                            max_dist = knn_list[max_index][<span class="number">0</span>]</div><div class="line"></div><div class="line">                <span class="keyword">if</span> dist &lt; max_dist:</div><div class="line">                    knn_list[max_index] = (dist, label)</div><div class="line">                    max_index = <span class="number">-1</span></div><div class="line">                    max_dist = <span class="number">0</span></div><div class="line"></div><div class="line">                total = <span class="number">10</span></div><div class="line">                count = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(total)]</div><div class="line">                <span class="keyword">for</span> dist, label <span class="keyword">in</span> knn_list:</div><div class="line">                    count[label] += <span class="number">1</span></div><div class="line">                <span class="comment"># 得到训练数据中出现最多的label值</span></div><div class="line">                predict.append(np.argmax(count))</div><div class="line"></div><div class="line">        <span class="keyword">return</span> np.array(predict)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_dist</span><span class="params">(self, vec1, vec2)</span>:</span></div><div class="line">        <span class="keyword">return</span> np.linalg.norm(vec1 - vec2)</div></pre></td></tr></table></figure></p>
<h2 id="朴素贝叶斯法"><a href="#朴素贝叶斯法" class="headerlink" title="朴素贝叶斯法"></a>朴素贝叶斯法</h2><p>&emsp;&emsp;朴素贝叶斯分类就是根据先验概率和条件概率来判断样本属于哪一类，可参考书中的例题看懂。代码如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 浮点数连乘时会导致结果变成Inf的情况，而int类型相乘则不会</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">Train</span><span class="params">(avg, train_set, train_labels)</span>:</span></div><div class="line">    <span class="comment"># 先验概率</span></div><div class="line">    prior_probability = np.zeros(class_nums)</div><div class="line">    <span class="comment"># 条件概率</span></div><div class="line">    condition_probability = np.zeros((class_nums, feature_nums, <span class="number">2</span>))</div><div class="line"></div><div class="line">    <span class="comment"># 计算</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(train_labels)):</div><div class="line">        img = binary_image(train_set[i],avg)</div><div class="line">        label = train_labels[i]</div><div class="line">        <span class="comment"># 先验概率分子，事件出现的次数</span></div><div class="line">        prior_probability[label] += <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(feature_nums):</div><div class="line">            <span class="comment"># 条件概率，在y=label时，第j个特征为0或1的次数</span></div><div class="line">            condition_probability[label][j][img[j]] += <span class="number">1</span></div><div class="line"></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(class_nums):</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(feature_nums):</div><div class="line"></div><div class="line"></div><div class="line">            pix_0 = condition_probability[i][j][<span class="number">0</span>]</div><div class="line">            pix_1 = condition_probability[i][j][<span class="number">1</span>]</div><div class="line"></div><div class="line">            <span class="comment"># 如果不做处理，某个特征的值可能为0，最终</span></div><div class="line">            p0 = (float(pix_0)/float(pix_0 + pix_1)) * <span class="number">100000</span> + <span class="number">1</span></div><div class="line">            p1 = (float(pix_1)/float(pix_0 + pix_1)) * <span class="number">100000</span> + <span class="number">1</span></div><div class="line">            </div><div class="line">            condition_probability[i][j][<span class="number">0</span>] = p0</div><div class="line">            condition_probability[i][j][<span class="number">1</span>] = p1</div><div class="line">    <span class="keyword">return</span> prior_probability, condition_probability</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">calculate</span><span class="params">(img, label)</span>:</span></div><div class="line">    <span class="comment"># 属于某一类的个数</span></div><div class="line">    p = int(prior_probability[label])</div><div class="line"></div><div class="line">    <span class="comment"># int 型可以无限乘</span></div><div class="line">    <span class="comment"># 条件独立性假设</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(img)):</div><div class="line">        p *= int(condition_probability[label][i][img[i]])</div><div class="line">    <span class="keyword">return</span> p</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(avg,test_set, prior_probability, condition_probability)</span>:</span></div><div class="line">    predict = []</div><div class="line">    <span class="keyword">for</span> img <span class="keyword">in</span> test_set:</div><div class="line">        img = binary_image(img, avg)</div><div class="line"></div><div class="line">        max_label = <span class="number">0</span>   <span class="comment"># 最有可能的类别</span></div><div class="line">        max_p = calculate(img, <span class="number">0</span>)   <span class="comment"># 计算类别为0的概率</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, class_nums):</div><div class="line">            p = calculate(img, i)</div><div class="line">            <span class="keyword">if</span> max_p &lt; p:</div><div class="line">                max_p = p</div><div class="line">                max_label = i</div><div class="line">        predict.append(max_label)</div><div class="line">    <span class="keyword">return</span> np.array(predict)</div></pre></td></tr></table></figure></p>
<h2 id="拓展一些爱忘的东西"><a href="#拓展一些爱忘的东西" class="headerlink" title="拓展一些爱忘的东西"></a>拓展一些爱忘的东西</h2><h4 id="极大似然估计"><a href="#极大似然估计" class="headerlink" title="极大似然估计"></a>极大似然估计</h4><p>假设X为离散型，概率分布则为$ P(X=x)=p(x;\theta)$，则似然函数为$K=\prod p(x;\theta) $<br>假设X为连续型，概率密度函数为$f(x;\theta)$, 则似然函数为$K=\prod f(x;\theta) $<br>极大似然估计法原理就是固定样本观测值$(x_1,x_2,x_3,…,x_n)$，挑选参数$\theta $使的似然函数最小。可以通过取对数的方式求解似然方程。举个例子:<br>使用极大似然估计推出朴素贝叶斯法中的概率公式:<br>极大似然函数<br>$$ L(\theta;y_1,y_2,…,y_k)=\prod P(y_i)=\prod \theta_k ^ {N_k}$$<br>其中N为样本总数，两边取对数得到<br>$$\ln(L(\theta))=\sum N_k\ln \theta_k$$<br>注意到约束条件$ \sum \theta_k =1$可以用拉格朗日乘子法，即$l(\theta_k,\lambda)=\sum {N_k ln\theta_k} +\lambda(\sum {\theta_k} -1)$，求导就可以得到：$\frac{N_k}{\theta_k}+\lambda=0$ 联立所有的k以及约束条件得到$\theta_k=\frac{N_k}{N}$。 </p>
<h4 id="贝叶斯估计"><a href="#贝叶斯估计" class="headerlink" title="贝叶斯估计"></a>贝叶斯估计</h4><p>这里介绍下与极大似然估计的区别，具体公式可参考书上内容。<br>极大似然估计的核心思想是:找到参数θ的一个估计值，使得当前样本出现的可能性最大。而贝叶斯估计则是引入了先验概率，通过先验概率和似然概率来求解后验概率，而极大似然估计则是直接通过最大化似然概率来求解。<br><br><br>&emsp;&emsp;学业繁忙，突然发现自己感兴趣的学到的东西才这么点儿，都没太多时间看自己想看的书，写自己想写的代码，学自己想学的知识，现在回顾这几天，发现真正对自己有用的东西好像并没有太多，到底在忙些什么？哎，惜哉！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/深度学习/">深度学习</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-概率论" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/26/概率论/" class="article-date">
  	<time datetime="2017-09-26T11:56:12.000Z" itemprop="datePublished">2017-09-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/26/概率论/">python实现概率分布</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="二项分布"><a href="#二项分布" class="headerlink" title="二项分布"></a>二项分布</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy as np</div><div class="line">from scipy <span class="keyword">import</span> stats</div><div class="line">%matplotlib inline</div><div class="line"><span class="keyword">import</span> matplotlib.pyplot as plt</div><div class="line"></div><div class="line">n = <span class="number">10</span></div><div class="line">p = <span class="number">0.3</span></div><div class="line">k = np.arange(<span class="number">0</span>,<span class="number">21</span>)</div><div class="line">binomial = stats.binom.pmf(k,n,p)</div><div class="line"></div><div class="line">plt.plot(k,binomial,<span class="string">"o-"</span>)</div><div class="line">plt.title(<span class="string">"Binomial n=%d,p=%.2f"</span> % (n,p))</div><div class="line">plt.xlabel(<span class="string">"Number of success"</span>)</div><div class="line">plt.ylabel(<span class="string">"Probablity of success"</span>)</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<p><img src="images/binomial.png" alt=""></p>
<h2 id="泊松分布"><a href="#泊松分布" class="headerlink" title="泊松分布"></a>泊松分布</h2><p>泊松分布用于描述某段时间内，事件具体的发生概率。公式为：<br>$ P(N(t)=n) = \frac {(\lambda t)^n e^{- \lambda t}}{n!} $<br>其中$\lambda$表示事件的频率，在频率附近，事件发生的概率越高。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">rate = 2</div><div class="line">n = np.arange(0,10)</div><div class="line">y = stats.poisson.pmf(n,rate)</div><div class="line">plt.plot(n,y,&quot;o-&quot;)</div><div class="line">plt.title(&quot;rate=%.2f&quot; % (rate))</div><div class="line">plt.xlabel(&quot;Number of success&quot;)</div><div class="line">plt.ylabel(&quot;Probablity of success&quot;)</div><div class="line">plt.show()</div></pre></td></tr></table></figure></p>
<p><img src="images/poisson.png" alt=""></p>
<h2 id="正态分布"><a href="#正态分布" class="headerlink" title="正态分布"></a>正态分布</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mean = 0</div><div class="line">sigma = 1</div><div class="line">n = np.arange(-5,5,0.1)</div><div class="line">y = stats.norm.pdf(n,mean,sigma)</div><div class="line">plt.plot(n,y)</div><div class="line">plt.title(&quot;mean=%.2f,sigma=%.2f&quot; % (mean,sigma))</div><div class="line">plt.xlabel(&quot;Number of success&quot;)</div><div class="line">plt.ylabel(&quot;Probablity of success&quot;)</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<p><img src="images/normal.png" alt=""></p>
<h2 id="beta分布"><a href="#beta分布" class="headerlink" title="beta分布"></a>beta分布</h2><p>表示先验信息的比较好的方法，可以使用beta分布，它与二项分布都是共轭先验（先验分布是beta分布，后验分布也是beta分布）的<br>beta分布的均值为 $\frac\alpha {\alpha + \beta}$<br>方差为 $\frac{\alpha \beta} {(\alpha + \beta) ^ 2 (\alpha + \beta + 1)}$<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">alpha = 1</div><div class="line">beta = 1</div><div class="line">x = np.arange(0.01,1,0.01)</div><div class="line">y = stats.beta.pdf(x,alpha,beta)</div><div class="line"></div><div class="line">plt.plot(x,y, label=&quot;alpha=%.2f,beta=%.2f&quot; % (alpha,beta))</div><div class="line"></div><div class="line">alpha = 1</div><div class="line">beta = 2</div><div class="line">y = stats.beta.pdf(x,alpha,beta)</div><div class="line">plt.plot(x,y,label=&quot;alpha=%.2f,beta=%.2f&quot; % (alpha,beta))</div><div class="line"></div><div class="line">alpha = 0.5</div><div class="line">beta = 0.5</div><div class="line">y = stats.beta.pdf(x,alpha,beta)</div><div class="line">plt.plot(x,y,label=&quot;alpha=%.2f,beta=%.2f&quot; % (alpha,beta))</div><div class="line"></div><div class="line">alpha = 2</div><div class="line">beta = 5</div><div class="line">y = stats.beta.pdf(x,alpha,beta)</div><div class="line">plt.plot(x,y,label=&quot;alpha=%.2f,beta=%.2f&quot; % (alpha,beta))</div><div class="line"></div><div class="line">plt.legend(loc=&quot;upper left&quot;)</div><div class="line">plt.xlabel(&quot;Number of success&quot;)</div><div class="line">plt.ylabel(&quot;Probablity of success&quot;)</div><div class="line">plt.show()</div></pre></td></tr></table></figure></p>
<p><img src="images/beta.png" alt=""><br><br><br>参考文章：<a href="http://www.datalearner.com/blog/1051505532393058" target="_blank" rel="external">http://www.datalearner.com/blog/1051505532393058</a></p>
<h2 id="指数分布"><a href="#指数分布" class="headerlink" title="指数分布"></a>指数分布</h2><p>$ P(x;\lambda) = \lambda e^ {-\lambda x} $<br>指数分布用于表示事件发生的时间间隔的概率，$\lambda$表示事件发生的频率，越大则事件发生的概率越小，即隔了很久事件发生的概率会越小<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">lamda = 0.2</div><div class="line">x = np.arange(0,20,0.1)</div><div class="line">y = lamda * np.exp(-lamda * x)</div><div class="line"></div><div class="line">plt.plot(x,y)</div><div class="line"></div><div class="line">plt.title(&quot;rate=%.2f&quot; % (rate))</div><div class="line">plt.xlabel(&quot;Number of success&quot;)</div><div class="line">plt.ylabel(&quot;Probablity of success&quot;)</div><div class="line">plt.show()</div></pre></td></tr></table></figure></p>
<p><img src="images/exponential.png" alt=""></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数学/">数学</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-近期学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/24/近期学习/" class="article-date">
  	<time datetime="2017-09-24T01:14:49.000Z" itemprop="datePublished">2017-09-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/24/近期学习/">近期学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这段时间学习了很多有关图像识别和分类的知识，在此做一下总结。</p>
<h2 id="Numpy操作"><a href="#Numpy操作" class="headerlink" title="Numpy操作"></a>Numpy操作</h2><p>这里主要说说可能用的比较少的操作：<br><br><code>Numpy.flipud() 上下方向旋转数组</code><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line">&gt;&gt;&gt;np.flipud([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</div><div class="line">array([[<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</div><div class="line">        [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</div><div class="line">        [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]])</div><div class="line">&gt;&gt;&gt;np.flipud([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</div><div class="line">array([[<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</div><div class="line">        [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]])</div></pre></td></tr></table></figure></p>
<p><code>Numpy.fliplr() 左右方向旋转数组</code><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;np.flipud([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</div><div class="line">array([[<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>],</div><div class="line">        [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</div></pre></td></tr></table></figure></p>
<p><code>Numpy.cumsum()累加求和,可以传入相应的唯度</code><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>x = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>np.cumsum(x)</div><div class="line">array([ <span class="number">1</span>,  <span class="number">3</span>,  <span class="number">6</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">21</span>, <span class="number">28</span>, <span class="number">36</span>, <span class="number">45</span>], dtype=int32)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>np.cumsum(x,axis=<span class="number">1</span>)</div><div class="line">array([[ <span class="number">1</span>,  <span class="number">3</span>,  <span class="number">6</span>],</div><div class="line">       [ <span class="number">4</span>,  <span class="number">9</span>, <span class="number">15</span>],</div><div class="line">       [ <span class="number">7</span>, <span class="number">15</span>, <span class="number">24</span>]], dtype=int32)</div></pre></td></tr></table></figure></p>
<p><code>Numpy.meshgrid(x,y) 生成二维网格型数据，行数为x中元素总数，列数为y中元素总数</code><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>y = [[<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>]]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>[XX,YY] = np.meshgrid(x,y)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>XX</div><div class="line">array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</div><div class="line">       [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</div><div class="line">       [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</div><div class="line">       [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</div><div class="line">       [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</div><div class="line">       [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>YY</div><div class="line">array([[<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>],</div><div class="line">       [<span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>],</div><div class="line">       [<span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>],</div><div class="line">       [<span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>],</div><div class="line">       [<span class="number">14</span>, <span class="number">14</span>, <span class="number">14</span>, <span class="number">14</span>, <span class="number">14</span>, <span class="number">14</span>, <span class="number">14</span>, <span class="number">14</span>, <span class="number">14</span>],</div><div class="line">       [<span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>]])</div></pre></td></tr></table></figure></p>
<p><code>Numpy.conj 求共轭值</code><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>np.conj(<span class="number">1</span>+<span class="number">2j</span>)</div><div class="line">    <span class="number">1</span><span class="number">-2j</span></div></pre></td></tr></table></figure></p>
<p><code>Numpy.linalg.norm 求范数</code><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>np.linalg.norm([<span class="number">3</span>,<span class="number">4</span>],ord=<span class="number">1</span>)</div><div class="line"><span class="number">7.0</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>np.linalg.norm([<span class="number">3</span>,<span class="number">4</span>],ord=<span class="number">2</span>)</div><div class="line"><span class="number">5.0</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>np.linalg.norm([<span class="number">3</span>,<span class="number">4</span>],ord=np.inf)</div><div class="line"><span class="number">4.0</span></div></pre></td></tr></table></figure></p>
<h2 id="Malplotlib-绘图"><a href="#Malplotlib-绘图" class="headerlink" title="Malplotlib 绘图"></a>Malplotlib 绘图</h2><p>可以参考画廊地址，结合里面的例子进行自己的修改：<br><a href="http://matplotlib.org/gallery.html" target="_blank" rel="external">画廊</a></p>
<h2 id="Xavier初始化"><a href="#Xavier初始化" class="headerlink" title="Xavier初始化"></a>Xavier初始化</h2><p>目的：让每一层输出的方差尽量相等，保证信息的流动<br><a href="http://blog.csdn.net/shuzfan/article/details/51338178" target="_blank" rel="external">可参考这一篇博文</a></p>
<h2 id="CNN"><a href="#CNN" class="headerlink" title="CNN"></a>CNN</h2><ul>
<li>引入非线性激活函数的好处：<br>如果使用线性，那么输出都是输入的线性组合，这种情况无法逼近任意函数，与没有隐藏层的效果相当</li>
<li>引入Relu的好处：<ol>
<li>sigmoid函数用的指数运算，求导涉及除法会增加计算量</li>
<li>在sigmoid函数接近饱和区时，梯度下降会非常缓慢，导数趋于0。</li>
<li>relu使一部分神经元输出为0，这样可以缓解过拟合的问题</li>
</ol>
</li>
<li>sigmoid函数缺点：<br>梯度消失： 计算输出层loss，以导数形式向上一层传递，修正参数，sigmoid函数常会导致导数为0，从而无法更新参数，优化神经网络。<br>输出不是zero-centered: 收敛速度减慢（待续）<br>运算耗时</li>
<li>Relu的缺点：<br>输出不是zero-centered<br>某些神经元可能永远不会被激活，相应参数不会被修改，使用Xavier初始化方法可以解决因learning rate太高引起的无法激活的现象。<h2 id="全连接层"><a href="#全连接层" class="headerlink" title="全连接层"></a>全连接层</h2>  主要起到分类器的作用，可由卷积操作实现，目前更多是使用全局平均池化的方式来替代全连接层。<br>  使用卷积层实现全连接层的好处：可以让卷积网络在输入图片上滑动，得到每个区域的输出，突破尺寸限制。<h2 id="滤波器总结"><a href="#滤波器总结" class="headerlink" title="滤波器总结"></a>滤波器总结</h2></li>
<li>滤波器所有元素之和等于1时，图像处理后亮度保持不变，大于1时图像更亮，小于1图像变暗</li>
<li>把数值尽力控制在0-255之间，负数取绝对值处理</li>
<li>滤波器的大小应该是一个奇数<br>使用滤波器我们可以实现很多的图像处理操作，例如锐化，边缘检测，浮雕，模糊等<br>例如锐化和边缘检测： 将卷积核周边值取负，中心取正，突出中心，可以完成<h2 id="Tensorflow简单调试"><a href="#Tensorflow简单调试" class="headerlink" title="Tensorflow简单调试"></a>Tensorflow简单调试</h2>使用tfdbg进行调试<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python -m tensorflow.python.debug.examples.debug_minist --debug</div></pre></td></tr></table></figure>
</li>
</ul>
<p>进入调试状态。常用指令：<br>run 运行代码<br>li 显示变量的shape和值<br>pt 输出变量值<br>run -f has_inf_or_nan 发现nan值变量<br><br><br>学习过程中，接触了很多经典的图像处理神经网路，例如AlexNet,GoogleNet,Overfeat等<br>有几篇写的不错的博客如下：<br><a href="http://blog.csdn.net/hjimce/article/details/50187881" target="_blank" rel="external">Overfeat</a><br><a href="http://blog.csdn.net/liumaolincycle/article/details/50496499" target="_blank" rel="external">AlexNet论文</a><br><a href="http://blog.csdn.net/u014088052/article/details/50898842" target="_blank" rel="external">AlexNet算法体系</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/深度学习/">深度学习</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-String介绍" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/05/09/String介绍/" class="article-date">
  	<time datetime="2017-05-09T06:05:46.000Z" itemprop="datePublished">2017-05-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/09/String介绍/">String介绍</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="String特性"><a href="#String特性" class="headerlink" title="String特性"></a>String特性</h1><p>String类是final的，不可被继承，本质是字符数组，其值不可变<br>String x = “abc” , “abc”表示字符串对象，x表示对象的引用<br>String通过+串联得到的是一个新的字符串<br>String pool 用来存放运行中产生的字符串，内容不重复，存在与方法的堆栈区</p>
<h1 id="String创建原理"><a href="#String创建原理" class="headerlink" title="String创建原理"></a>String创建原理</h1><ol>
<li>当 s=X 创建String对象时，java会拿着这个X去pool中找有没有相同内容的对象，有则s直接指向它，无则创建</li>
<li>使用new创建的对象，一定会在堆区创建新对象</li>
<li>使用+ 号串联方式创建新对象，只会检查池中对象</li>
<li>使用包含变量的表达式来创建一个String对象，会检查pool，也会在堆栈区创建一个String对象</li>
</ol>
<h1 id="过程分析"><a href="#过程分析" class="headerlink" title="过程分析"></a>过程分析</h1><p>String str = “abc”;<br>System.out.println(str == “abc”);</p>
<p>栈中开辟一块空间存放引用str<br>pool中存放”abc”，str指向pool中的abc<br>结果返回true，地址相等</p>
<p>String str = new String(“abc”);<br>str == “abc”<br>返回false<br>str指向堆中对象，而abc地址在池中</p>
<p>String str2 = new String(“abc”)<br>str == str2<br>返回false<br>str2指向堆中开辟的新空间</p>
<p>String str3 = “s” + “y”;<br>str3 == “sy”<br>pool中存放sy  常量sy也指向pool中的sy  返回true</p>
<p>String s1 = “aa”<br>String s2 = “bb”<br>String s = s1 + s2<br>s == “aabb”<br>返回false<br>两个变量连接  调用的是toString()方法，在堆中开辟一个新的空间存放对象</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-重建二叉树" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/21/重建二叉树/" class="article-date">
  	<time datetime="2017-01-21T08:20:33.000Z" itemprop="datePublished">2017-01-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/21/重建二叉树/">重建二叉树</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 输入某二叉树的前序遍历和中序遍历的结果，请重建出该二叉树。假设输入的前序遍历和中序遍历的结果中</span></div><div class="line"><span class="comment"> * 不含重复的数字。例如输入前序遍历序列&#123;1,2,4,7,3,5,6,8&#125;和中序遍历序列&#123;4,7,2,1,5,3,8,6&#125;，则重建二</span></div><div class="line"><span class="comment"> * 叉树并返回。</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Definition for binary tree</span></div><div class="line"><span class="comment"> * public class TreeNode &#123;</span></div><div class="line"><span class="comment"> *     int val;</span></div><div class="line"><span class="comment"> *     TreeNode left;</span></div><div class="line"><span class="comment"> *     TreeNode right;</span></div><div class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></div><div class="line"><span class="comment"> * &#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">reConstructBinaryTree</span><span class="params">(<span class="keyword">int</span> [] pre,<span class="keyword">int</span> [] in)</span> </span>&#123;</div><div class="line">     	<span class="keyword">if</span> (pre == <span class="keyword">null</span> || in == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> reConstructBinaryTree(pre,<span class="number">0</span>,pre.length-<span class="number">1</span>,in,<span class="number">0</span>,in.length-<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">reConstructBinaryTree</span><span class="params">(<span class="keyword">int</span>[] pre,<span class="keyword">int</span> startPre,<span class="keyword">int</span> endPre,<span class="keyword">int</span>[] in,<span class="keyword">int</span> startIn,<span class="keyword">int</span> endIn)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (startPre &gt; endPre || startIn &gt; endIn)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(pre[startPre]);</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = startIn;i &lt;= endIn;i++) &#123;</div><div class="line">            <span class="keyword">if</span> (in[i] == pre[startPre]) &#123;</div><div class="line">                root.left = reConstructBinaryTree(pre,startPre+<span class="number">1</span>,startPre + i - startIn,in,startIn,i - <span class="number">1</span>);</div><div class="line">                root.right = reConstructBinaryTree(pre,startPre + i + <span class="number">1</span> - startIn,endPre,in,i + <span class="number">1</span>,endIn);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> root;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/二叉树/">二叉树</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-滑雪" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/10/滑雪/" class="article-date">
  	<time datetime="2016-09-10T13:52:15.000Z" itemprop="datePublished">2016-09-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/10/滑雪/">滑雪</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> m,n;	<span class="comment">//矩阵行列</span></div><div class="line"><span class="keyword">int</span> matrix[<span class="number">100</span>][<span class="number">100</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">skiing</span> <span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">	<span class="comment">//方向搜索</span></div><div class="line">	<span class="keyword">int</span> forward_x[<span class="number">4</span>] = &#123;<span class="number">-1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</div><div class="line">	<span class="keyword">int</span> forward_y[<span class="number">4</span>] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">1</span>&#125;;</div><div class="line">	<span class="keyword">int</span> max = <span class="number">0</span>,xx,yy;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i++) &#123;</div><div class="line">		xx = x + forward_x[i];</div><div class="line">		yy = y + forward_y[i];</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (xx &gt;= <span class="number">0</span> &amp;&amp; xx &lt;= n &amp;&amp; yy &gt;= <span class="number">0</span> &amp;&amp; yy &lt;= m) &#123;</div><div class="line">			<span class="keyword">if</span> (matrix[x][y] &gt; matrix[xx][yy]) &#123;</div><div class="line">				<span class="keyword">int</span> temp = skiing(xx,yy) + <span class="number">1</span>;</div><div class="line">				<span class="keyword">if</span> (temp &gt; max) max = temp;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> max;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; m;i++) &#123;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; n;j++) &#123;</div><div class="line">			<span class="built_in">cin</span> &gt;&gt; matrix[i][j];</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> mm = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; m;i++) &#123;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; n;j++) &#123;</div><div class="line">			mm = max(skiing(i,j),mm);</div><div class="line">		&#125; </div><div class="line">	&#125;</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; mm &lt;&lt; <span class="built_in">endl</span>;</div><div class="line"></div><div class="line"></div><div class="line">	system(<span class="string">"pause"</span>);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/深度搜索/">深度搜索</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-栈的操作" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/21/栈的操作/" class="article-date">
  	<time datetime="2016-08-21T14:38:50.000Z" itemprop="datePublished">2016-08-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/21/栈的操作/">栈的操作</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="栈的操作"><a href="#栈的操作" class="headerlink" title="栈的操作"></a>栈的操作</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">import java.util.Stack;</div><div class="line"></div><div class="line">public class TestStack &#123;</div><div class="line">	</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line">	/**</div><div class="line">	 * 输入两个整数序列，第一个序列表示栈的压入顺序，请判断二个序列是否为该栈的弹出顺序。</div><div class="line">	 * 假设压入栈的所有数字均不相等。例如序列1 、2、3 、4、5 是某栈压栈序列，</div><div class="line">	 * 序列4、5、3、2、1是该压栈序列对应的一个弹出序列，</div><div class="line">	 * 但4、3、5、1、2就不可能是该压棋序列的弹出序列。</div><div class="line">	 *</div><div class="line">	 * @param push 入栈序列</div><div class="line">	 * @param pop  出栈序列</div><div class="line">	 * @<span class="built_in">return</span> <span class="literal">true</span>：出栈序列是入栈序列的一个弹出顺序</div><div class="line">	 */</div><div class="line">	public static boolean isPopOrder(int[] push,int[] pop) &#123;</div><div class="line">		<span class="keyword">if</span> (push.length == 0 || pop.length == 0 || pop.length != push.length) &#123;</div><div class="line">			<span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">		&#125;</div><div class="line">		Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();</div><div class="line">		int j = 0;</div><div class="line">		//检查出栈元素</div><div class="line">		<span class="keyword">for</span> (int i = 0;i &lt; pop.length;i++) &#123;</div><div class="line">			//放入入栈元素</div><div class="line">			stack.push(push[i]);</div><div class="line">			//与出栈元素比较</div><div class="line">			<span class="keyword">while</span> (j &lt; pop.length &amp;&amp; stack.peek() == pop[j]) &#123;</div><div class="line">				stack.pop();</div><div class="line">				j++;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">		<span class="built_in">return</span> stack.empty() ? <span class="literal">true</span> : <span class="literal">false</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/栈/">栈</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-矩阵逆序" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/20/矩阵逆序/" class="article-date">
  	<time datetime="2016-08-20T09:52:31.000Z" itemprop="datePublished">2016-08-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/20/矩阵逆序/">矩阵逆序</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="顺时针输出矩阵"><a href="#顺时针输出矩阵" class="headerlink" title="顺时针输出矩阵"></a>顺时针输出矩阵</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">import java.util.*;</div><div class="line">/**</div><div class="line"> * 输入一个矩阵，按照从外向里以顺时针的顺序依次打印出每一个数字，例如，如果输入如下矩阵：</div><div class="line"> * 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 </div><div class="line"> * 则依次打印出数字1,2,3,4,8,12,16,15,14,13,9,5,6,7,11,10.</div><div class="line"> *</div><div class="line"> */</div><div class="line">public class Solution &#123;</div><div class="line">     </div><div class="line">    public ArrayList&lt;Integer&gt; printMatrix(int[][] matrix) &#123;</div><div class="line">        ArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;() ;</div><div class="line">        <span class="keyword">if</span>(matrix==null || matrix.length==0) &#123; <span class="built_in">return</span> result ; &#125;</div><div class="line"> </div><div class="line">        printMatrixClockWisely(matrix, 0, 0, matrix.length - 1, matrix[0].length - 1, result);</div><div class="line"> </div><div class="line">        <span class="built_in">return</span> result ;</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    public void printMatrixClockWisely(int[][] matrix, int startRow, int startCol, int endRow, int endCol, ArrayList&lt;Integer&gt; result) &#123;</div><div class="line">        <span class="keyword">if</span>(startRow&lt;endRow &amp;&amp; startCol&lt;endCol) &#123;</div><div class="line">            <span class="keyword">for</span>(int j=startCol; j&lt;=endCol; j++) &#123; result.add(matrix[startRow][j]) ; &#125;   //Right</div><div class="line">            <span class="keyword">for</span>(int i=startRow+1; i&lt;=endRow-1; i++) &#123; result.add(matrix[i][endCol]) ; &#125;     //Down</div><div class="line">            <span class="keyword">for</span>(int j=endCol; j&gt;=startCol; j--) &#123; result.add(matrix[endRow][j]) ; &#125;     //Left</div><div class="line">            <span class="keyword">for</span>(int i=endRow-1; i&gt;=startRow+1; i--) &#123; result.add(matrix[i][startCol]) ; &#125;   //Up</div><div class="line">            printMatrixClockWisely(matrix, startRow + 1, startCol + 1, endRow - 1, endCol - 1, result) ;</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(startRow==endRow &amp;&amp; startCol&lt;endCol) &#123;</div><div class="line">            <span class="keyword">for</span>(int j=startCol; j&lt;=endCol; j++) &#123; result.add(matrix[startRow][j]) ; &#125;</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(startRow&lt;endRow &amp;&amp; startCol==endCol) &#123;</div><div class="line">            <span class="keyword">for</span>(int i=startRow; i&lt;=endRow; i++) &#123; result.add(matrix[i][endCol]) ; &#125;</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(startRow==endRow &amp;&amp; startCol==endCol) &#123;</div><div class="line">            result.add(matrix[startRow][startCol]) ;</div><div class="line">        &#125;<span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">return</span> ;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/递归/">递归</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-链表" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/18/链表/" class="article-date">
  	<time datetime="2016-08-18T06:36:37.000Z" itemprop="datePublished">2016-08-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/18/链表/">链表</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line"> public class ListNode &#123;</div><div class="line">    int val;</div><div class="line">    ListNode next = null;</div><div class="line"></div><div class="line">    ListNode(int val) &#123;</div><div class="line">        this.val = val;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line">/**</div><div class="line"> *在一个排序的链表中，存在重复的结点，请删除该链表中重复的结点，重复的结点不保留，返回链表头指针。 例如，链表1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5 处理后为 1-&gt;2-&gt;5</div><div class="line"> */</div><div class="line">public class Solution &#123;</div><div class="line">    public ListNode deleteDuplication(ListNode pHead)</div><div class="line">    &#123;</div><div class="line">        ListNode head = new ListNode(0);</div><div class="line">        head.next = pHead;</div><div class="line">        ListNode p = pHead;</div><div class="line">        ListNode q = head;</div><div class="line">        </div><div class="line">        <span class="keyword">while</span> (q != null &amp;&amp; q.next != null) &#123;</div><div class="line">            <span class="keyword">if</span> (q.val == q.next.val) &#123;</div><div class="line">            	int value = q.val;</div><div class="line">                <span class="keyword">while</span> (q != null &amp;&amp; q.val == value) &#123;</div><div class="line">                    q = q.next;</div><div class="line">                &#125;</div><div class="line">                p.next = q;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                p = q;</div><div class="line">                q = q.next;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">return</span> head.next;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/链表/">链表</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-链表基本操作" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/15/链表基本操作/" class="article-date">
  	<time datetime="2016-08-15T00:56:17.000Z" itemprop="datePublished">2016-08-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/15/链表基本操作/">链表基本操作</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Java链表的常用操作"><a href="#Java链表的常用操作" class="headerlink" title="Java链表的常用操作"></a>Java链表的常用操作</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div></pre></td><td class="code"><pre><div class="line">package SingleList;</div><div class="line"></div><div class="line">import java.util.HashMap;</div><div class="line"></div><div class="line">import org.w3c.dom.ls.LSInput;</div><div class="line"></div><div class="line">public class TestList &#123;</div><div class="line">	//头结点</div><div class="line">	public Node first;</div><div class="line">	</div><div class="line">	</div><div class="line">	public <span class="function"><span class="title">TestList</span></span>()&#123;</div><div class="line">		first = null;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 插入一个头结点</div><div class="line">	 */</div><div class="line">	public void addFirstNode (int data) &#123;</div><div class="line">		Node node = new Node(data);</div><div class="line">		node.next = first;</div><div class="line">		first = node;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 删除头结点</div><div class="line">	 */</div><div class="line">	public Node <span class="function"><span class="title">deleteFirstNode</span></span> () &#123;</div><div class="line">		Node node = first;</div><div class="line">		first = node.next;</div><div class="line">		<span class="built_in">return</span> node;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 在任意位置插入节点  </div><div class="line">	 */</div><div class="line">	 public void add(int index,int data) &#123;</div><div class="line">		 Node node = new Node(data);</div><div class="line">		 Node current = first;</div><div class="line">		 Node previous = first;</div><div class="line">		 int pos = 0;</div><div class="line">		 <span class="keyword">while</span> (pos != index) &#123;</div><div class="line">			 </div><div class="line">			 previous = current;</div><div class="line">			 current = current.next;</div><div class="line">			 pos++;</div><div class="line">		 &#125;</div><div class="line">		 previous.next = node;</div><div class="line">		 node.next = current;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 在链表末尾添加</div><div class="line">	  * @param data</div><div class="line">	  */</div><div class="line">	 public void add(int data) &#123;</div><div class="line">		 <span class="keyword">if</span> (first == null) &#123;</div><div class="line">			 addFirstNode(data);</div><div class="line">			 <span class="built_in">return</span>;</div><div class="line">		 &#125;</div><div class="line">	 </div><div class="line">		 Node node = new Node(data);</div><div class="line">		 Node current = first;</div><div class="line">		 <span class="keyword">while</span> (current.next != null ) &#123;</div><div class="line">			 current = current.next;</div><div class="line">		 &#125;</div><div class="line">		 current.next = node;</div><div class="line">		 </div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 删除任意位置的节点</div><div class="line">	  * @param index</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">	 public Node deleteByPosition(int index) &#123;</div><div class="line">		Node current = first;</div><div class="line">		Node previout = first;</div><div class="line">		int pos = 0;</div><div class="line">		<span class="keyword">while</span> (pos != index) &#123;</div><div class="line">			<span class="keyword">if</span> (current.next == null)</div><div class="line">				<span class="built_in">return</span> null;</div><div class="line">			previout = current;</div><div class="line">			current = current.next;</div><div class="line">			pos++;</div><div class="line">		&#125; </div><div class="line">		//删除头时</div><div class="line">		<span class="keyword">if</span> (current == first) &#123;</div><div class="line">			first = first.next;</div><div class="line">		&#125; <span class="keyword">else</span> </div><div class="line">			previout.next = current.next;</div><div class="line">		</div><div class="line">		<span class="built_in">return</span> current;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 public Node deleteByData(int data) &#123;</div><div class="line">		 Node current = first;</div><div class="line">		 Node previous = first;</div><div class="line">		 int pos = 0;</div><div class="line">		 <span class="keyword">while</span> (current.data != data) &#123;</div><div class="line">			 <span class="keyword">if</span> (current.next == null)</div><div class="line">				 <span class="built_in">return</span> null;</div><div class="line">		 </div><div class="line">			 previous = current;</div><div class="line">			 current = current.next;</div><div class="line">			 pos++;</div><div class="line">		 &#125;</div><div class="line">		 </div><div class="line">		 <span class="keyword">if</span> (current == first) &#123;</div><div class="line">			 first = first.next;</div><div class="line">		 &#125; <span class="keyword">else</span></div><div class="line">			 previous.next = current.next;</div><div class="line">		 <span class="built_in">return</span> current;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 打印所有节点信息</div><div class="line">	  */</div><div class="line">	 public void printAllNodes (Node head) &#123;</div><div class="line">		 <span class="keyword">while</span> (head != null) &#123;</div><div class="line">			 head.display();</div><div class="line">			 head = head.next;</div><div class="line">		 &#125;</div><div class="line">		 System.out.println();</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 根据位置找节点信息</div><div class="line">	  * @param index</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">	 public Node findByPos(int index) &#123;</div><div class="line">		 Node current = first;</div><div class="line">		 int pos = 0;</div><div class="line">		 <span class="keyword">if</span> (pos != index) &#123;</div><div class="line">			 current = current.next;</div><div class="line">			 pos++;</div><div class="line">		 &#125;</div><div class="line">		 <span class="built_in">return</span> current;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 获取节点个数</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">	 public int getLength(Node head) &#123;</div><div class="line">		 int len = 0;</div><div class="line">		 </div><div class="line">		 <span class="keyword">while</span> (head != null) &#123;</div><div class="line">			 len++;</div><div class="line">			 head = head.next;</div><div class="line">		 &#125;</div><div class="line">		 <span class="built_in">return</span> len;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 反向输出链表</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">	 public Node <span class="function"><span class="title">reverseList</span></span>() &#123;</div><div class="line">		 Node head = first;</div><div class="line">		 Node current = first;</div><div class="line">		 Node previous = first;</div><div class="line">		 Node nextNode = first;</div><div class="line">		 <span class="keyword">if</span> (current == null || current.next == null) &#123;</div><div class="line">			 <span class="built_in">return</span> current;</div><div class="line">		 &#125;</div><div class="line">		 <span class="keyword">while</span> (current != null) &#123;</div><div class="line">			 nextNode = current.next;</div><div class="line">			 current.next = previous;</div><div class="line">			 previous = current;</div><div class="line">			 current = nextNode;</div><div class="line">		 &#125;</div><div class="line">		 </div><div class="line">		 <span class="built_in">return</span> previous;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 递归倒序输出链表</div><div class="line">	  * @param head</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">//	 public Node reverseListRec(Node head) &#123;</div><div class="line">//		 <span class="keyword">if</span> (head == null || head.next == null)</div><div class="line">//			 <span class="built_in">return</span> head;</div><div class="line">//		 Node newHead = reverseListRec(head.next);</div><div class="line">//		 head.next.next = head;</div><div class="line">//		 head.next = null;</div><div class="line">//	 &#125;</div><div class="line"></div><div class="line">	 /**</div><div class="line">	  * 查找链表倒数第K个结点</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">	 public Node getKthNode (int k) &#123;</div><div class="line">		 <span class="keyword">if</span> (first == null) <span class="built_in">return</span> first;</div><div class="line">		 int len = getLength(first);</div><div class="line">		 </div><div class="line">		 <span class="keyword">if</span> (k &gt; len) <span class="built_in">return</span> null;</div><div class="line">		 Node target = first;</div><div class="line">		 Node nextNode = first;</div><div class="line">		 <span class="keyword">for</span> (int i =0;i &lt; k;i++) &#123;</div><div class="line">			 nextNode = nextNode.next;</div><div class="line">		 &#125;</div><div class="line">		 <span class="keyword">while</span> (nextNode.next != null) &#123;</div><div class="line">			 target = target.next;</div><div class="line">			 nextNode = nextNode.next;</div><div class="line">		 &#125;</div><div class="line">		 </div><div class="line">		 <span class="built_in">return</span> target;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 获取中间位置的节点</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">	 public Node <span class="function"><span class="title">getMidNode</span></span> () &#123;</div><div class="line">		 <span class="keyword">if</span> (first == null || first.next == null) <span class="built_in">return</span> first;</div><div class="line">		 Node target = first;</div><div class="line">		 Node current = first;</div><div class="line">		 </div><div class="line">		 <span class="keyword">while</span> (current != null &amp;&amp; current.next != null) &#123;</div><div class="line">			 target = target.next;</div><div class="line">			 current = current.next.next;</div><div class="line">		 &#125;</div><div class="line">		 <span class="built_in">return</span> target;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 倒序打印结点  递归</div><div class="line">	  * </div><div class="line">	  * 用栈也可以</div><div class="line">	  */</div><div class="line">	 public void reverseNode (Node node) &#123;</div><div class="line">		 <span class="keyword">if</span> (node == null) <span class="built_in">return</span>;</div><div class="line">		 <span class="keyword">else</span> &#123;</div><div class="line">			 reverseNode(node.next);</div><div class="line">			 node.display();</div><div class="line">		 &#125;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 合并两个已经排好序的链表</div><div class="line">	  * @param head1</div><div class="line">	  * @param head2</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">	 public Node mergeSortedList(Node head1,Node head2) &#123;</div><div class="line">		 <span class="keyword">if</span> (head1 == null)	<span class="built_in">return</span> head2;</div><div class="line">		 <span class="keyword">if</span> (head2 == null) <span class="built_in">return</span> head1;</div><div class="line">		 Node target = null;</div><div class="line">		 </div><div class="line">		 <span class="keyword">if</span> (head1.data &gt; head2.data) &#123;</div><div class="line">			 target = head2;</div><div class="line">			 head2 = head2.next;</div><div class="line">		 &#125; <span class="keyword">else</span> &#123;</div><div class="line">			 target = head1;</div><div class="line">			 head1 = head1.next;</div><div class="line">		 &#125;</div><div class="line">		 target.next = null;</div><div class="line">		 Node res = target;</div><div class="line">		 <span class="keyword">while</span> (head1 != null &amp;&amp; head2 != null) &#123;</div><div class="line">			 <span class="keyword">if</span> (head1.data &gt; head2.data) &#123;</div><div class="line">				 target.next = head2;</div><div class="line">				 head2 = head2.next;</div><div class="line">			 &#125; <span class="keyword">else</span> &#123;</div><div class="line">				 target.next = head1;</div><div class="line">				 head1 = head1.next;</div><div class="line">			 &#125;</div><div class="line">			 target = target.next;</div><div class="line">			 target.next = null;</div><div class="line">		 &#125;</div><div class="line">		 </div><div class="line">		 <span class="keyword">if</span> (head1 == null) target.next = head2;</div><div class="line">		 <span class="keyword">else</span> target.next = head1;</div><div class="line">		 </div><div class="line">		 <span class="built_in">return</span> res;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 链表的插入排序</div><div class="line">	  * @param head</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">	 public Node insertSort(Node head) &#123;</div><div class="line">		 <span class="keyword">if</span> (head == null || head.next == null) <span class="built_in">return</span> head;</div><div class="line">		 Node pre = head.next;</div><div class="line">		 Node nextNode = null;</div><div class="line">		 </div><div class="line">		 head.next = null;</div><div class="line">		 </div><div class="line">		 <span class="keyword">while</span> (pre != null) &#123;</div><div class="line">			 nextNode = pre.next;</div><div class="line">			 Node temp = head;</div><div class="line">			 </div><div class="line">			 Node temp_pre = null;</div><div class="line">			 </div><div class="line">			 <span class="keyword">while</span> (temp != null) &#123;</div><div class="line">				 <span class="keyword">if</span> (temp.data &gt; pre.data) <span class="built_in">break</span>;</div><div class="line">				 temp_pre = temp;</div><div class="line">				 temp = temp.next;</div><div class="line">			 &#125;</div><div class="line">			 </div><div class="line">			 <span class="keyword">if</span> (temp_pre == null) &#123;</div><div class="line">				 head = pre;</div><div class="line">				 pre.next = temp;</div><div class="line">			 &#125; <span class="keyword">else</span> &#123;</div><div class="line">				 temp_pre.next = pre;</div><div class="line">				 pre.next = temp;</div><div class="line">			 &#125;</div><div class="line">			 pre = nextNode;</div><div class="line">		 &#125;</div><div class="line">		 <span class="built_in">return</span> head;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 判断是否有环</div><div class="line">	  * @param head</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">	 static boolean hasCycle(Node head) &#123;</div><div class="line">		 boolean flag = <span class="literal">false</span>;</div><div class="line">		 Node p = head;</div><div class="line">		 Node qNode = head;</div><div class="line">		 <span class="keyword">while</span> (p != null &amp;&amp; qNode != null) &#123;</div><div class="line">			 p = p.next;</div><div class="line">			 qNode = qNode.next.next;</div><div class="line">			 <span class="keyword">if</span> (p == qNode) &#123;</div><div class="line">				 flag = <span class="literal">true</span>;</div><div class="line">				 <span class="built_in">break</span>;</div><div class="line">			 &#125;</div><div class="line">		 &#125;</div><div class="line">		 <span class="built_in">return</span> flag;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 /**</div><div class="line">	  * 判断两个链表是否相交</div><div class="line">	  * 返回相交节点</div><div class="line">	  * @param head1</div><div class="line">	  * @param head2</div><div class="line">	  * @<span class="built_in">return</span></div><div class="line">	  */</div><div class="line">	 public Node isIntersect (Node head1,Node head2) &#123;</div><div class="line">		 Node target = null;</div><div class="line">		 <span class="keyword">if</span> (head1 == null || head2 == null) <span class="built_in">return</span> target;</div><div class="line">		 </div><div class="line">		 int len1 = getLength(head1);</div><div class="line">		 int len2 = getLength(head2);</div><div class="line">		 </div><div class="line">		 <span class="keyword">if</span> (len1 &gt;= len2) &#123;</div><div class="line">			 <span class="keyword">for</span> (int i = 0;i &lt; len1 - len2;i++) &#123;</div><div class="line">				 head1 = head1.next;</div><div class="line">			 &#125;</div><div class="line">		 &#125; <span class="keyword">else</span> &#123;</div><div class="line">			 <span class="keyword">for</span> (int i = 0;i &lt; len2 - len1;i++) &#123;</div><div class="line">				 head2 = head2.next;</div><div class="line">			 &#125;</div><div class="line">		 &#125;</div><div class="line">		 </div><div class="line">		 <span class="keyword">while</span> (head1 != null &amp;&amp; head2 != null) &#123;</div><div class="line">			 <span class="keyword">if</span> (head1 == head2) &#123;</div><div class="line">				 target = head1;</div><div class="line">				 <span class="built_in">break</span>;</div><div class="line">			 &#125; <span class="keyword">else</span> &#123;</div><div class="line">				 head1 = head1.next;</div><div class="line">				 head2 = head2.next;</div><div class="line">			 &#125;</div><div class="line">		 &#125;</div><div class="line">		 <span class="built_in">return</span> target;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 public Node getFirstNodeInCycle (Node head) &#123;</div><div class="line">		 Node target = null;</div><div class="line">		 HashMap&lt;Node, Boolean&gt; map = new HashMap&lt;&gt;();</div><div class="line">		 <span class="keyword">while</span> (head != null) &#123;</div><div class="line">			 <span class="keyword">if</span> (map.containsKey(head)) target = head;</div><div class="line">			 <span class="keyword">else</span> &#123;</div><div class="line">				 map.put(head, <span class="literal">true</span>);</div><div class="line">			 &#125;</div><div class="line">			 head = head.next;</div><div class="line">		 &#125;</div><div class="line">		 <span class="built_in">return</span> target;</div><div class="line">	 &#125;</div><div class="line">	 </div><div class="line">	 public static void main(String[] args) &#123;</div><div class="line">		 TestList list = new TestList();</div><div class="line">		 //添加到头部</div><div class="line">		 list.addFirstNode(21);</div><div class="line">		 list.addFirstNode(19);		//21  19</div><div class="line">		 </div><div class="line">		 list.add(2, 22);		 	//21 22 19</div><div class="line">		 list.add(26);</div><div class="line">		 list.add(28);</div><div class="line">//		 list.add(6, 25);</div><div class="line">		 list.printAllNodes(list.first);</div><div class="line">		 System.out.println(<span class="string">"------------------------------"</span>);</div><div class="line">		 Node node = list.findByPos(0);</div><div class="line">		 node.display();</div><div class="line">		 </div><div class="line">		 Node node2 = list.getKthNode(1);</div><div class="line">		 node2.display();</div><div class="line">		 </div><div class="line">		 Node node3 = list.getMidNode();</div><div class="line">		 node3.display();</div><div class="line">		 </div><div class="line">		 System.out.println(<span class="string">"------------------------------"</span>);</div><div class="line">		 </div><div class="line">		 list.reverseNode(list.first);</div><div class="line">		 </div><div class="line">		 System.out.println(<span class="string">"------------------------------"</span>);</div><div class="line">		 </div><div class="line">		 TestList list2 = new TestList();</div><div class="line">		 list2.add(10); </div><div class="line">		 list2.add(15);</div><div class="line">		 list2.add(40);</div><div class="line">		 </div><div class="line">		 Node node4 = list.mergeSortedList(list.first, list2.first);</div><div class="line">		 list2.printAllNodes(node4);</div><div class="line">		 </div><div class="line">		 System.out.println(<span class="string">"------------------------------"</span>);</div><div class="line">		 </div><div class="line">		 </div><div class="line">	 &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/链表/">链表</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 syz
    	</div>
      	
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: '/'
	}
</script>
<script>
	(function(){
 		document.write('<scr'+'ipt type="text/javascript" src="'+document.location.protocol+'//7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js">'+'</sc'+'ript>');
 	})();
</script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script>
 	(function(){
 		document.write('<scr'+'ipt type="text/javascript" src="'+document.location.protocol+'//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">'+'</sc'+'ript>');
 	})();
</script>


  </div>
</body>
</html>